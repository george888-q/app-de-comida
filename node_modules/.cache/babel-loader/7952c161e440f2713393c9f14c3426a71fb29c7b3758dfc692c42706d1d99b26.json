{"ast":null,"code":"import React,{createContext,useContext,useState,useEffect,useCallback,useRef}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const AccessibilityContext=/*#__PURE__*/createContext();export const useAccessibility=()=>{const context=useContext(AccessibilityContext);if(!context){throw new Error('useAccessibility debe ser usado dentro de un AccessibilityProvider');}return context;};export const AccessibilityProvider=_ref=>{let{children}=_ref;const[colorMode,setColorMode]=useState('normal');// normal, deuteranopia, protanopia, tritanopia, highContrast\nconst[fontSize,setFontSize]=useState('base');// xs, sm, base, lg, xl, 2xl, 3xl\nconst[voiceAssistant,setVoiceAssistant]=useState(false);const[speechRecognition,setSpeechRecognition]=useState(null);const[speechSynthesis,setSpeechSynthesis]=useState(null);const[isListening,setIsListening]=useState(false);const[lastSpoken,setLastSpoken]=useState('');const lastSpokenRef=useRef(lastSpoken);const[showColorPanel,setShowColorPanel]=useState(false);useEffect(()=>{lastSpokenRef.current=lastSpoken;},[lastSpoken]);// Función para hablar\nconst speak=useCallback(function(text){let force=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!voiceAssistant&&!force)return;if(speechSynthesis){if(speechSynthesis.speaking){speechSynthesis.cancel();}const utterance=new SpeechSynthesisUtterance(text);utterance.lang='es-ES';utterance.rate=0.9;utterance.pitch=1;speechSynthesis.speak(utterance);if(lastSpoken!==text){setLastSpoken(text);// Solo actualiza si es diferente\n}}},[speechSynthesis,voiceAssistant,lastSpoken]);// Función para vibrar\nconst vibrate=useCallback(function(){let pattern=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100;if('vibrate'in navigator){navigator.vibrate(pattern);}},[]);// Iniciar reconocimiento de voz\nconst startListening=useCallback(()=>{if(speechRecognition&&voiceAssistant){speechRecognition.start();}},[speechRecognition,voiceAssistant]);// Detener reconocimiento de voz\nconst stopListening=useCallback(()=>{if(speechRecognition){speechRecognition.stop();}},[speechRecognition]);// Función de distancia de Levenshtein para fuzzy matching\nfunction levenshtein(a,b){const an=a?a.length:0;const bn=b?b.length:0;if(an===0)return bn;if(bn===0)return an;const matrix=[];for(let i=0;i<=bn;++i)matrix[i]=[i];for(let j=0;j<=an;++j)matrix[0][j]=j;for(let i=1;i<=bn;++i){for(let j=1;j<=an;++j){if(b.charAt(i-1)===a.charAt(j-1)){matrix[i][j]=matrix[i-1][j-1];}else{matrix[i][j]=Math.min(matrix[i-1][j-1]+1,// sustitución\nmatrix[i][j-1]+1,// inserción\nmatrix[i-1][j]+1// eliminación\n);}}}return matrix[bn][an];}// Función para coincidencia flexible de comandos\nfunction fuzzyIncludes(cmd,target){let maxDistance=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;cmd=cmd.toLowerCase();target=target.toLowerCase();if(cmd.includes(target))return true;const words=cmd.split(' ');for(let i=0;i<words.length;i++){if(levenshtein(words[i],target)<=maxDistance)return true;}if(levenshtein(cmd,target)<=maxDistance)return true;return false;}// Manejar comandos de voz\nconst handleVoiceCommand=useCallback((command,navigate)=>{console.log('[DEBUG] Comando recibido:',command);const lowerCmd=command.toLowerCase();// --- Comandos de navegación a restaurantes por nombre (fuzzy) ---\nconst restaurantes=[{nombre:'sushi master',ruta:'/restaurant/3'},{nombre:'burger house',ruta:'/restaurant/2'},{nombre:'pizza express',ruta:'/restaurant/1'},{nombre:'taco fiesta',ruta:'/restaurant/4'},{nombre:'veggie garden',ruta:'/restaurant/5'}];for(const rest of restaurantes){const fuzzyRest=fuzzyIncludes(lowerCmd,rest.nombre,3);const fuzzyIr=lowerCmd.includes('ir')||fuzzyIncludes(lowerCmd,'ir',2);console.log(\"[DEBUG] Probar restaurante: \".concat(rest.nombre,\" | fuzzyRest: \").concat(fuzzyRest,\" | fuzzyIr: \").concat(fuzzyIr));if(fuzzyIr&&fuzzyRest||fuzzyRest){console.log(\"[DEBUG] Navegando a \".concat(rest.nombre,\" (ruta: \").concat(rest.ruta,\")\"));speak(\"Navegando a \".concat(rest.nombre,\".\"));if(navigate)navigate(rest.ruta);return;}}// --- Comando para repetir la última instrucción ---\nif(lowerCmd.includes('repetir')){if(lastSpokenRef.current){speak(lastSpokenRef.current,true);}else{speak('No hay nada que repetir.',true);}return;}// --- Comandos de búsqueda ---\nif(lowerCmd.startsWith('buscar ')||lowerCmd.startsWith('encontrar ')){const query=lowerCmd.replace('buscar ','').replace('encontrar ','');speak(\"Buscando: \".concat(query));// Aquí podrías navegar o filtrar productos\nreturn;}// --- Comandos de navegación ampliados ---\nif(lowerCmd.includes('ir a restaurantes')){speak('Navegando a la lista de restaurantes.');if(navigate)navigate('/restaurants');return;}if(lowerCmd.includes('ver carrito')){speak('Abriendo el carrito de compras.');if(navigate)navigate('/cart');return;}if(lowerCmd.includes('ir a inicio')){speak('Navegando a la página de inicio.');if(navigate)navigate('/');return;}if(lowerCmd.includes('ir a mi cuenta')||lowerCmd.includes('perfil')){speak('Abriendo tu perfil.');if(navigate)navigate('/profile');return;}if(lowerCmd.includes('promociones')||lowerCmd.includes('ir a promociones')){speak('Mostrando promociones.');if(navigate)navigate('/promotions');return;}if(lowerCmd.includes('métodos de pago')||lowerCmd.includes('metodos de pago')||lowerCmd.includes('ir a métodos de pago')){speak('Abriendo métodos de pago.');if(navigate)navigate('/payment-methods');return;}if(lowerCmd.includes('faq')||lowerCmd.includes('preguntas frecuentes')||lowerCmd.includes('ayuda')){speak('Abriendo preguntas frecuentes.');if(navigate)navigate('/faq');return;}if(lowerCmd.includes('soporte de voz')||lowerCmd.includes('asistencia de voz')||lowerCmd.includes('soporte')){speak('Abriendo soporte de voz.');if(navigate)navigate('/voice-support');return;}if(lowerCmd.includes('tutorial de audio')||lowerCmd.includes('audio tutorial')){speak('Abriendo tutorial de audio.');if(navigate)navigate('/audio-tutorial');return;}if(lowerCmd.includes('configuración')||lowerCmd.includes('configuracion')){speak('Abriendo configuración.');if(navigate)navigate('/settings');return;}if(lowerCmd.includes('contacto')){speak('Abriendo contacto.');if(navigate)navigate('/contact');return;}if(lowerCmd.includes('historial de pedidos')){speak('Abriendo historial de pedidos.');if(navigate)navigate('/orders');return;}if(lowerCmd.includes('favoritos')){speak('Abriendo favoritos.');if(navigate)navigate('/favorites');return;}if(lowerCmd.includes('notificaciones')){speak('Abriendo notificaciones.');if(navigate)navigate('/notifications');return;}if(lowerCmd.includes('accesibilidad')){speak('Abriendo opciones de accesibilidad.');if(navigate)navigate('/accessibility');return;}if(lowerCmd.includes('cerrar sesión')||lowerCmd.includes('cerrar sesion')){speak('Cerrando sesión.');if(navigate)navigate('/logout');return;}// --- Comandos de carrito y pedido ---\nif(lowerCmd.includes('leer total del carrito')||lowerCmd.includes('total del carrito')){// Aquí deberías obtener el total real del carrito\nspeak('El total de tu carrito es de 0 dólares.');return;}// --- Comando de ayuda ---\nif(lowerCmd.includes('ayuda')||lowerCmd.includes('comandos')){speak('Puedes decir: Ir sushi master, Ir burger house, Ir pizza express, Ir taco fiesta, Ir veggie garden, Ir al carrito, Ir a promociones, Ir a perfil, Ir a inicio, Ir a configuración, Ir a ayuda, Ir a contacto, Ir a métodos de pago, Ir a historial de pedidos, Ir a soporte, Ir a favoritos, Ir a notificaciones, Ir a accesibilidad, Cerrar sesión, Ayuda, Cambiar modo, Leer total del carrito, Leer promociones, Repetir, entre otros.');return;}// --- Comandos de accesibilidad ampliados ---\nif((lowerCmd.includes('activar')||lowerCmd.includes('desactivar'))&&lowerCmd.includes('modo alto contraste')){if(lowerCmd.includes('activar')){setColorMode('high-contrast');speak('Modo alto contraste activado.');}else{setColorMode('normal');speak('Modo alto contraste desactivado.');}return;}if((lowerCmd.includes('activar')||lowerCmd.includes('desactivar'))&&lowerCmd.includes('modo daltónico')){if(lowerCmd.includes('activar')){setColorMode('deuteranopia');speak('Modo daltónico activado.');}else{setColorMode('normal');speak('Modo daltónico desactivado.');}return;}if(lowerCmd.startsWith('cambiar modo ')){if(lowerCmd.includes('deuteranopia')){setColorMode('deuteranopia');speak('Cambiando a modo deuteranopia.');return;}else if(lowerCmd.includes('protanopia')){setColorMode('protanopia');speak('Cambiando a modo protanopia.');return;}else if(lowerCmd.includes('tritanopia')){setColorMode('tritanopia');speak('Cambiando a modo tritanopia.');return;}else if(lowerCmd.includes('alto contraste')){setColorMode('high-contrast');speak('Cambiando a modo alto contraste.');return;}else if(lowerCmd.includes('normal')){setColorMode('normal');speak('Cambiando a modo normal.');return;}else{speak('Modo no reconocido. Puedes decir: normal, deuteranopia, protanopia, tritanopia o alto contraste.');return;}}if((lowerCmd.includes('subir')||lowerCmd.includes('aumentar'))&&lowerCmd.includes('tamaño de letra')){const sizes=['xs','sm','base','lg','xl','2xl','3xl'];const currentIndex=sizes.indexOf(fontSize);if(currentIndex<sizes.length-1){setFontSize(sizes[currentIndex+1]);speak('Aumentando el tamaño de letra.');}else{speak('Ya tienes el tamaño de letra máximo.');}return;}if((lowerCmd.includes('bajar')||lowerCmd.includes('disminuir'))&&lowerCmd.includes('tamaño de letra')){const sizes=['xs','sm','base','lg','xl','2xl','3xl'];const currentIndex=sizes.indexOf(fontSize);if(currentIndex>0){setFontSize(sizes[currentIndex-1]);speak('Disminuyendo el tamaño de letra.');}else{speak('Ya tienes el tamaño de letra mínimo.');}return;}// --- Comandos de información ampliados ---\nif(lowerCmd.includes('leer ingredientes')){speak('Estos son los ingredientes del producto seleccionado. El precio se muestra en dólares.');// Aquí podrías leer ingredientes reales del producto seleccionado\nreturn;}if(lowerCmd.includes('leer descripción')){speak('Esta es la descripción del producto seleccionado.');// Aquí podrías leer la descripción real del producto seleccionado\nreturn;}if(lowerCmd.includes('leer promociones')){speak('Estas son las promociones actuales: 2x1 en pizzas, 10% de descuento en tu primer pedido.');// Aquí podrías leer promociones reales\nreturn;}// --- Comandos adicionales de navegación y utilidad ---\nif(lowerCmd.includes('ir a pedidos')||lowerCmd.includes('ver mis pedidos')){speak('Mostrando tus pedidos.');if(navigate)navigate('/orders');return;}if(lowerCmd.includes('ir a menú principal')||lowerCmd.includes('ir a menu principal')){speak('Navegando al menú principal.');if(navigate)navigate('/');return;}if(lowerCmd.includes('ir a productos destacados')){speak('Mostrando productos destacados.');if(navigate)navigate('/featured');return;}if(lowerCmd.includes('ir a hamburguesas')){speak('Mostrando menú de hamburguesas.');if(navigate)navigate('/category/hamburguesas');return;}if(lowerCmd.includes('ir a inicio de sesión')||lowerCmd.includes('iniciar sesión')){speak('Navegando a inicio de sesión.');if(navigate)navigate('/login');return;}if(lowerCmd.includes('ir a registro')||lowerCmd.includes('crear cuenta')){speak('Navegando a registro de usuario.');if(navigate)navigate('/register');return;}if(lowerCmd.includes('abrir menú')){speak('Menú abierto.');// Aquí deberías abrir el menú lateral si tienes uno\nreturn;}if(lowerCmd.includes('cerrar menú')){speak('Menú cerrado.');// Aquí deberías cerrar el menú lateral si tienes uno\nreturn;}if(lowerCmd.includes('abrir asistente')){speak('Asistente de voz abierto.');setVoiceAssistant(true);return;}if(lowerCmd.includes('cerrar asistente')){speak('Asistente de voz cerrado.');setVoiceAssistant(false);return;}if(lowerCmd.includes('leer instrucciones')){speak('Para navegar por la app puedes usar comandos de voz como: ir a restaurantes, ver carrito, cambiar modo, entre otros.');return;}if(lowerCmd.includes('leer contacto')){speak('Puedes contactarnos al correo contacto@ejemplo.com o al teléfono 555-1234.');return;}if(lowerCmd.includes('leer preguntas frecuentes')){speak('Abriendo preguntas frecuentes.');if(navigate)navigate('/faq');return;}// --- Comandos de carrito y pedido ampliados ---\nif(lowerCmd.includes('agregar')&&lowerCmd.includes('al carrito')){speak('Producto agregado al carrito.');// Aquí deberías agregar el producto real al carrito\nreturn;}if(lowerCmd.includes('eliminar')&&lowerCmd.includes('del carrito')){speak('Producto eliminado del carrito.');// Aquí deberías eliminar el producto real del carrito\nreturn;}if(lowerCmd.includes('vaciar carrito')){speak('Carrito vaciado.');// Aquí deberías vaciar el carrito real\nreturn;}if(lowerCmd.includes('confirmar compra')||lowerCmd.includes('confirmar pedido')){speak('Compra confirmada.');// Aquí deberías confirmar el pedido real\nreturn;}if(lowerCmd.includes('cancelar pedido')){speak('Pedido cancelado.');// Aquí deberías cancelar el pedido real\nreturn;}if(lowerCmd.includes('ver estado del pedido')||lowerCmd.includes('leer estado del pedido')){speak('El estado de tu pedido es: en preparación.');// Aquí deberías leer el estado real del pedido\nreturn;}// --- Comandos de accesibilidad ampliados ---\nif(lowerCmd.includes('activar modo oscuro')){setColorMode('high-contrast');speak('Modo oscuro activado.');return;}if(lowerCmd.includes('desactivar modo oscuro')){setColorMode('normal');speak('Modo oscuro desactivado.');return;}if(lowerCmd.includes('aumentar contraste')){setColorMode('high-contrast');speak('Contraste aumentado.');return;}if(lowerCmd.includes('reducir contraste')){setColorMode('normal');speak('Contraste reducido.');return;}// --- Comando no reconocido ---\nspeak('Comando no reconocido. Di \"ayuda\" para ver los comandos disponibles.');},[speak,vibrate,fontSize,setColorMode,setFontSize,setShowColorPanel,stopListening]);// Alternar asistente de voz\nconst toggleVoiceAssistant=useCallback(()=>{const newState=!voiceAssistant;setVoiceAssistant(newState);if(newState){speak('Asistente de voz activado. Di \"ayuda\" para ver los comandos disponibles.',true);vibrate();}else{stopListening();if(speechSynthesis&&speechSynthesis.speaking){speechSynthesis.cancel();// Detener cualquier voz activa\n}speak('Asistente de voz desactivado.',true);vibrate();}},[voiceAssistant,speak,vibrate,stopListening,speechSynthesis]);// Inicializar Web Speech API\nuseEffect(()=>{if('webkitSpeechRecognition'in window||'SpeechRecognition'in window){const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;const recognition=new SpeechRecognition();recognition.continuous=true;recognition.interimResults=false;recognition.lang='es-ES';recognition.onstart=()=>{setIsListening(true);speak('Te escucho. Di un comando.',true);vibrate();};recognition.onresult=event=>{const transcript=event.results[event.results.length-1][0].transcript.toLowerCase();handleVoiceCommand(transcript,null);};recognition.onerror=event=>{console.error('Error en reconocimiento de voz:',event.error);setIsListening(false);speak('Hubo un error con el asistente de voz. Intenta de nuevo.');vibrate([200,100,200]);};recognition.onend=()=>{setIsListening(false);};setSpeechRecognition(recognition);}if('speechSynthesis'in window){setSpeechSynthesis(window.speechSynthesis);}},[]);// Aplicar cambios de accesibilidad al DOM\nuseEffect(()=>{const root=document.documentElement;// Remover clases anteriores\nroot.classList.remove('deuteranopia','protanopia','tritanopia','high-contrast');// Aplicar nueva clase\nif(colorMode!=='normal'){root.classList.add(colorMode);}// Aplicar tamaño de fuente\nconst fontSizeClasses={xs:'text-xs',sm:'text-sm',base:'text-base',lg:'text-lg',xl:'text-xl','2xl':'text-2xl','3xl':'text-3xl'};// Remover clases de tamaño anteriores\nObject.values(fontSizeClasses).forEach(className=>{root.classList.remove(className);});// Aplicar nuevo tamaño\nif(fontSizeClasses[fontSize]){root.classList.add(fontSizeClasses[fontSize]);}},[colorMode,fontSize]);const value={colorMode,setColorMode,fontSize,setFontSize,voiceAssistant,toggleVoiceAssistant,isListening,startListening,stopListening,speak,handleVoiceCommand,vibrate,showColorPanel,setShowColorPanel};return/*#__PURE__*/_jsx(AccessibilityContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","useCallback","useRef","jsx","_jsx","AccessibilityContext","useAccessibility","context","Error","AccessibilityProvider","_ref","children","colorMode","setColorMode","fontSize","setFontSize","voiceAssistant","setVoiceAssistant","speechRecognition","setSpeechRecognition","speechSynthesis","setSpeechSynthesis","isListening","setIsListening","lastSpoken","setLastSpoken","lastSpokenRef","showColorPanel","setShowColorPanel","current","speak","text","force","arguments","length","undefined","speaking","cancel","utterance","SpeechSynthesisUtterance","lang","rate","pitch","vibrate","pattern","navigator","startListening","start","stopListening","stop","levenshtein","a","b","an","bn","matrix","i","j","charAt","Math","min","fuzzyIncludes","cmd","target","maxDistance","toLowerCase","includes","words","split","handleVoiceCommand","command","navigate","console","log","lowerCmd","restaurantes","nombre","ruta","rest","fuzzyRest","fuzzyIr","concat","startsWith","query","replace","sizes","currentIndex","indexOf","toggleVoiceAssistant","newState","window","SpeechRecognition","webkitSpeechRecognition","recognition","continuous","interimResults","onstart","onresult","event","transcript","results","onerror","error","onend","root","document","documentElement","classList","remove","add","fontSizeClasses","xs","sm","base","lg","xl","Object","values","forEach","className","value","Provider"],"sources":["C:/Users/wowga/Documents/proyectos personales/app de comida/src/contexts/AccessibilityContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, useCallback, useRef } from 'react';\n\nconst AccessibilityContext = createContext();\n\nexport const useAccessibility = () => {\n  const context = useContext(AccessibilityContext);\n  if (!context) {\n    throw new Error('useAccessibility debe ser usado dentro de un AccessibilityProvider');\n  }\n  return context;\n};\n\nexport const AccessibilityProvider = ({ children }) => {\n  const [colorMode, setColorMode] = useState('normal'); // normal, deuteranopia, protanopia, tritanopia, highContrast\n  const [fontSize, setFontSize] = useState('base'); // xs, sm, base, lg, xl, 2xl, 3xl\n  const [voiceAssistant, setVoiceAssistant] = useState(false);\n  const [speechRecognition, setSpeechRecognition] = useState(null);\n  const [speechSynthesis, setSpeechSynthesis] = useState(null);\n  const [isListening, setIsListening] = useState(false);\n  const [lastSpoken, setLastSpoken] = useState('');\n  const lastSpokenRef = useRef(lastSpoken);\n  const [showColorPanel, setShowColorPanel] = useState(false);\n\n  useEffect(() => {\n    lastSpokenRef.current = lastSpoken;\n  }, [lastSpoken]);\n\n  // Función para hablar\n  const speak = useCallback((text, force = false) => {\n    if (!voiceAssistant && !force) return;\n    if (speechSynthesis) {\n      if (speechSynthesis.speaking) {\n        speechSynthesis.cancel();\n      }\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.lang = 'es-ES';\n      utterance.rate = 0.9;\n      utterance.pitch = 1;\n      speechSynthesis.speak(utterance);\n      if (lastSpoken !== text) {\n        setLastSpoken(text); // Solo actualiza si es diferente\n      }\n    }\n  }, [speechSynthesis, voiceAssistant, lastSpoken]);\n\n  // Función para vibrar\n  const vibrate = useCallback((pattern = 100) => {\n    if ('vibrate' in navigator) {\n      navigator.vibrate(pattern);\n    }\n  }, []);\n\n  // Iniciar reconocimiento de voz\n  const startListening = useCallback(() => {\n    if (speechRecognition && voiceAssistant) {\n      speechRecognition.start();\n    }\n  }, [speechRecognition, voiceAssistant]);\n\n  // Detener reconocimiento de voz\n  const stopListening = useCallback(() => {\n    if (speechRecognition) {\n      speechRecognition.stop();\n    }\n  }, [speechRecognition]);\n\n  // Función de distancia de Levenshtein para fuzzy matching\n  function levenshtein(a, b) {\n    const an = a ? a.length : 0;\n    const bn = b ? b.length : 0;\n    if (an === 0) return bn;\n    if (bn === 0) return an;\n    const matrix = [];\n    for (let i = 0; i <= bn; ++i) matrix[i] = [i];\n    for (let j = 0; j <= an; ++j) matrix[0][j] = j;\n    for (let i = 1; i <= bn; ++i) {\n      for (let j = 1; j <= an; ++j) {\n        if (b.charAt(i - 1) === a.charAt(j - 1)) {\n          matrix[i][j] = matrix[i - 1][j - 1];\n        } else {\n          matrix[i][j] = Math.min(\n            matrix[i - 1][j - 1] + 1, // sustitución\n            matrix[i][j - 1] + 1,     // inserción\n            matrix[i - 1][j] + 1      // eliminación\n          );\n        }\n      }\n    }\n    return matrix[bn][an];\n  }\n\n  // Función para coincidencia flexible de comandos\n  function fuzzyIncludes(cmd, target, maxDistance = 3) {\n    cmd = cmd.toLowerCase();\n    target = target.toLowerCase();\n    if (cmd.includes(target)) return true;\n    const words = cmd.split(' ');\n    for (let i = 0; i < words.length; i++) {\n      if (levenshtein(words[i], target) <= maxDistance) return true;\n    }\n    if (levenshtein(cmd, target) <= maxDistance) return true;\n    return false;\n  }\n\n  // Manejar comandos de voz\n  const handleVoiceCommand = useCallback((command, navigate) => {\n    console.log('[DEBUG] Comando recibido:', command);\n    const lowerCmd = command.toLowerCase();\n\n    // --- Comandos de navegación a restaurantes por nombre (fuzzy) ---\n    const restaurantes = [\n      { nombre: 'sushi master', ruta: '/restaurant/3' },\n      { nombre: 'burger house', ruta: '/restaurant/2' },\n      { nombre: 'pizza express', ruta: '/restaurant/1' },\n      { nombre: 'taco fiesta', ruta: '/restaurant/4' },\n      { nombre: 'veggie garden', ruta: '/restaurant/5' },\n    ];\n    for (const rest of restaurantes) {\n      const fuzzyRest = fuzzyIncludes(lowerCmd, rest.nombre, 3);\n      const fuzzyIr = lowerCmd.includes('ir') || fuzzyIncludes(lowerCmd, 'ir', 2);\n      console.log(`[DEBUG] Probar restaurante: ${rest.nombre} | fuzzyRest: ${fuzzyRest} | fuzzyIr: ${fuzzyIr}`);\n      if ((fuzzyIr && fuzzyRest) || fuzzyRest) {\n        console.log(`[DEBUG] Navegando a ${rest.nombre} (ruta: ${rest.ruta})`);\n        speak(`Navegando a ${rest.nombre}.`);\n        if (navigate) navigate(rest.ruta);\n        return;\n      }\n    }\n\n    // --- Comando para repetir la última instrucción ---\n    if (lowerCmd.includes('repetir')) {\n      if (lastSpokenRef.current) {\n        speak(lastSpokenRef.current, true);\n      } else {\n        speak('No hay nada que repetir.', true);\n      }\n      return;\n    }\n\n    // --- Comandos de búsqueda ---\n    if (lowerCmd.startsWith('buscar ') || lowerCmd.startsWith('encontrar ')) {\n      const query = lowerCmd.replace('buscar ', '').replace('encontrar ', '');\n      speak(`Buscando: ${query}`);\n      // Aquí podrías navegar o filtrar productos\n      return;\n    }\n\n    // --- Comandos de navegación ampliados ---\n    if (lowerCmd.includes('ir a restaurantes')) {\n      speak('Navegando a la lista de restaurantes.');\n      if (navigate) navigate('/restaurants');\n      return;\n    }\n    if (lowerCmd.includes('ver carrito')) {\n      speak('Abriendo el carrito de compras.');\n      if (navigate) navigate('/cart');\n      return;\n    }\n    if (lowerCmd.includes('ir a inicio')) {\n      speak('Navegando a la página de inicio.');\n      if (navigate) navigate('/');\n      return;\n    }\n    if (lowerCmd.includes('ir a mi cuenta') || lowerCmd.includes('perfil')) {\n      speak('Abriendo tu perfil.');\n      if (navigate) navigate('/profile');\n      return;\n    }\n    if (lowerCmd.includes('promociones') || lowerCmd.includes('ir a promociones')) {\n      speak('Mostrando promociones.');\n      if (navigate) navigate('/promotions');\n      return;\n    }\n    if (lowerCmd.includes('métodos de pago') || lowerCmd.includes('metodos de pago') || lowerCmd.includes('ir a métodos de pago')) {\n      speak('Abriendo métodos de pago.');\n      if (navigate) navigate('/payment-methods');\n      return;\n    }\n    if (lowerCmd.includes('faq') || lowerCmd.includes('preguntas frecuentes') || lowerCmd.includes('ayuda')) {\n      speak('Abriendo preguntas frecuentes.');\n      if (navigate) navigate('/faq');\n      return;\n    }\n    if (lowerCmd.includes('soporte de voz') || lowerCmd.includes('asistencia de voz') || lowerCmd.includes('soporte')) {\n      speak('Abriendo soporte de voz.');\n      if (navigate) navigate('/voice-support');\n      return;\n    }\n    if (lowerCmd.includes('tutorial de audio') || lowerCmd.includes('audio tutorial')) {\n      speak('Abriendo tutorial de audio.');\n      if (navigate) navigate('/audio-tutorial');\n      return;\n    }\n    if (lowerCmd.includes('configuración') || lowerCmd.includes('configuracion')) {\n      speak('Abriendo configuración.');\n      if (navigate) navigate('/settings');\n      return;\n    }\n    if (lowerCmd.includes('contacto')) {\n      speak('Abriendo contacto.');\n      if (navigate) navigate('/contact');\n      return;\n    }\n    if (lowerCmd.includes('historial de pedidos')) {\n      speak('Abriendo historial de pedidos.');\n      if (navigate) navigate('/orders');\n      return;\n    }\n    if (lowerCmd.includes('favoritos')) {\n      speak('Abriendo favoritos.');\n      if (navigate) navigate('/favorites');\n      return;\n    }\n    if (lowerCmd.includes('notificaciones')) {\n      speak('Abriendo notificaciones.');\n      if (navigate) navigate('/notifications');\n      return;\n    }\n    if (lowerCmd.includes('accesibilidad')) {\n      speak('Abriendo opciones de accesibilidad.');\n      if (navigate) navigate('/accessibility');\n      return;\n    }\n    if (lowerCmd.includes('cerrar sesión') || lowerCmd.includes('cerrar sesion')) {\n      speak('Cerrando sesión.');\n      if (navigate) navigate('/logout');\n      return;\n    }\n\n    // --- Comandos de carrito y pedido ---\n    if (lowerCmd.includes('leer total del carrito') || lowerCmd.includes('total del carrito')) {\n      // Aquí deberías obtener el total real del carrito\n      speak('El total de tu carrito es de 0 dólares.');\n      return;\n    }\n\n    // --- Comando de ayuda ---\n    if (lowerCmd.includes('ayuda') || lowerCmd.includes('comandos')) {\n      speak('Puedes decir: Ir sushi master, Ir burger house, Ir pizza express, Ir taco fiesta, Ir veggie garden, Ir al carrito, Ir a promociones, Ir a perfil, Ir a inicio, Ir a configuración, Ir a ayuda, Ir a contacto, Ir a métodos de pago, Ir a historial de pedidos, Ir a soporte, Ir a favoritos, Ir a notificaciones, Ir a accesibilidad, Cerrar sesión, Ayuda, Cambiar modo, Leer total del carrito, Leer promociones, Repetir, entre otros.');\n      return;\n    }\n\n    // --- Comandos de accesibilidad ampliados ---\n    if ((lowerCmd.includes('activar') || lowerCmd.includes('desactivar')) && lowerCmd.includes('modo alto contraste')) {\n      if (lowerCmd.includes('activar')) {\n        setColorMode('high-contrast');\n        speak('Modo alto contraste activado.');\n      } else {\n        setColorMode('normal');\n        speak('Modo alto contraste desactivado.');\n      }\n      return;\n    }\n    if ((lowerCmd.includes('activar') || lowerCmd.includes('desactivar')) && lowerCmd.includes('modo daltónico')) {\n      if (lowerCmd.includes('activar')) {\n        setColorMode('deuteranopia');\n        speak('Modo daltónico activado.');\n      } else {\n        setColorMode('normal');\n        speak('Modo daltónico desactivado.');\n      }\n      return;\n    }\n    if (lowerCmd.startsWith('cambiar modo ')) {\n      if (lowerCmd.includes('deuteranopia')) {\n        setColorMode('deuteranopia');\n        speak('Cambiando a modo deuteranopia.');\n        return;\n      } else if (lowerCmd.includes('protanopia')) {\n        setColorMode('protanopia');\n        speak('Cambiando a modo protanopia.');\n        return;\n      } else if (lowerCmd.includes('tritanopia')) {\n        setColorMode('tritanopia');\n        speak('Cambiando a modo tritanopia.');\n        return;\n      } else if (lowerCmd.includes('alto contraste')) {\n        setColorMode('high-contrast');\n        speak('Cambiando a modo alto contraste.');\n        return;\n      } else if (lowerCmd.includes('normal')) {\n        setColorMode('normal');\n        speak('Cambiando a modo normal.');\n        return;\n      } else {\n        speak('Modo no reconocido. Puedes decir: normal, deuteranopia, protanopia, tritanopia o alto contraste.');\n        return;\n      }\n    }\n    if ((lowerCmd.includes('subir') || lowerCmd.includes('aumentar')) && lowerCmd.includes('tamaño de letra')) {\n      const sizes = ['xs', 'sm', 'base', 'lg', 'xl', '2xl', '3xl'];\n      const currentIndex = sizes.indexOf(fontSize);\n      if (currentIndex < sizes.length - 1) {\n        setFontSize(sizes[currentIndex + 1]);\n        speak('Aumentando el tamaño de letra.');\n      } else {\n        speak('Ya tienes el tamaño de letra máximo.');\n      }\n      return;\n    }\n    if ((lowerCmd.includes('bajar') || lowerCmd.includes('disminuir')) && lowerCmd.includes('tamaño de letra')) {\n      const sizes = ['xs', 'sm', 'base', 'lg', 'xl', '2xl', '3xl'];\n      const currentIndex = sizes.indexOf(fontSize);\n      if (currentIndex > 0) {\n        setFontSize(sizes[currentIndex - 1]);\n        speak('Disminuyendo el tamaño de letra.');\n      } else {\n        speak('Ya tienes el tamaño de letra mínimo.');\n      }\n      return;\n    }\n\n    // --- Comandos de información ampliados ---\n    if (lowerCmd.includes('leer ingredientes')) {\n      speak('Estos son los ingredientes del producto seleccionado. El precio se muestra en dólares.');\n      // Aquí podrías leer ingredientes reales del producto seleccionado\n      return;\n    }\n    if (lowerCmd.includes('leer descripción')) {\n      speak('Esta es la descripción del producto seleccionado.');\n      // Aquí podrías leer la descripción real del producto seleccionado\n      return;\n    }\n    if (lowerCmd.includes('leer promociones')) {\n      speak('Estas son las promociones actuales: 2x1 en pizzas, 10% de descuento en tu primer pedido.');\n      // Aquí podrías leer promociones reales\n      return;\n    }\n\n    // --- Comandos adicionales de navegación y utilidad ---\n    if (lowerCmd.includes('ir a pedidos') || lowerCmd.includes('ver mis pedidos')) {\n      speak('Mostrando tus pedidos.');\n      if (navigate) navigate('/orders');\n      return;\n    }\n    if (lowerCmd.includes('ir a menú principal') || lowerCmd.includes('ir a menu principal')) {\n      speak('Navegando al menú principal.');\n      if (navigate) navigate('/');\n      return;\n    }\n    if (lowerCmd.includes('ir a productos destacados')) {\n      speak('Mostrando productos destacados.');\n      if (navigate) navigate('/featured');\n      return;\n    }\n    if (lowerCmd.includes('ir a hamburguesas')) {\n      speak('Mostrando menú de hamburguesas.');\n      if (navigate) navigate('/category/hamburguesas');\n      return;\n    }\n    if (lowerCmd.includes('ir a inicio de sesión') || lowerCmd.includes('iniciar sesión')) {\n      speak('Navegando a inicio de sesión.');\n      if (navigate) navigate('/login');\n      return;\n    }\n    if (lowerCmd.includes('ir a registro') || lowerCmd.includes('crear cuenta')) {\n      speak('Navegando a registro de usuario.');\n      if (navigate) navigate('/register');\n      return;\n    }\n    if (lowerCmd.includes('abrir menú')) {\n      speak('Menú abierto.');\n      // Aquí deberías abrir el menú lateral si tienes uno\n      return;\n    }\n    if (lowerCmd.includes('cerrar menú')) {\n      speak('Menú cerrado.');\n      // Aquí deberías cerrar el menú lateral si tienes uno\n      return;\n    }\n    if (lowerCmd.includes('abrir asistente')) {\n      speak('Asistente de voz abierto.');\n      setVoiceAssistant(true);\n      return;\n    }\n    if (lowerCmd.includes('cerrar asistente')) {\n      speak('Asistente de voz cerrado.');\n      setVoiceAssistant(false);\n      return;\n    }\n    if (lowerCmd.includes('leer instrucciones')) {\n      speak('Para navegar por la app puedes usar comandos de voz como: ir a restaurantes, ver carrito, cambiar modo, entre otros.');\n      return;\n    }\n    if (lowerCmd.includes('leer contacto')) {\n      speak('Puedes contactarnos al correo contacto@ejemplo.com o al teléfono 555-1234.');\n      return;\n    }\n    if (lowerCmd.includes('leer preguntas frecuentes')) {\n      speak('Abriendo preguntas frecuentes.');\n      if (navigate) navigate('/faq');\n      return;\n    }\n    // --- Comandos de carrito y pedido ampliados ---\n    if (lowerCmd.includes('agregar') && lowerCmd.includes('al carrito')) {\n      speak('Producto agregado al carrito.');\n      // Aquí deberías agregar el producto real al carrito\n      return;\n    }\n    if (lowerCmd.includes('eliminar') && lowerCmd.includes('del carrito')) {\n      speak('Producto eliminado del carrito.');\n      // Aquí deberías eliminar el producto real del carrito\n      return;\n    }\n    if (lowerCmd.includes('vaciar carrito')) {\n      speak('Carrito vaciado.');\n      // Aquí deberías vaciar el carrito real\n      return;\n    }\n    if (lowerCmd.includes('confirmar compra') || lowerCmd.includes('confirmar pedido')) {\n      speak('Compra confirmada.');\n      // Aquí deberías confirmar el pedido real\n      return;\n    }\n    if (lowerCmd.includes('cancelar pedido')) {\n      speak('Pedido cancelado.');\n      // Aquí deberías cancelar el pedido real\n      return;\n    }\n    if (lowerCmd.includes('ver estado del pedido') || lowerCmd.includes('leer estado del pedido')) {\n      speak('El estado de tu pedido es: en preparación.');\n      // Aquí deberías leer el estado real del pedido\n      return;\n    }\n    // --- Comandos de accesibilidad ampliados ---\n    if (lowerCmd.includes('activar modo oscuro')) {\n      setColorMode('high-contrast');\n      speak('Modo oscuro activado.');\n      return;\n    }\n    if (lowerCmd.includes('desactivar modo oscuro')) {\n      setColorMode('normal');\n      speak('Modo oscuro desactivado.');\n      return;\n    }\n    if (lowerCmd.includes('aumentar contraste')) {\n      setColorMode('high-contrast');\n      speak('Contraste aumentado.');\n      return;\n    }\n    if (lowerCmd.includes('reducir contraste')) {\n      setColorMode('normal');\n      speak('Contraste reducido.');\n      return;\n    }\n\n    // --- Comando no reconocido ---\n    speak('Comando no reconocido. Di \"ayuda\" para ver los comandos disponibles.');\n  }, [speak, vibrate, fontSize, setColorMode, setFontSize, setShowColorPanel, stopListening]);\n\n  // Alternar asistente de voz\n  const toggleVoiceAssistant = useCallback(() => {\n    const newState = !voiceAssistant;\n    setVoiceAssistant(newState);\n    \n    if (newState) {\n      speak('Asistente de voz activado. Di \"ayuda\" para ver los comandos disponibles.', true);\n      vibrate();\n    } else {\n      stopListening();\n      if (speechSynthesis && speechSynthesis.speaking) {\n        speechSynthesis.cancel(); // Detener cualquier voz activa\n      }\n      speak('Asistente de voz desactivado.', true);\n      vibrate();\n    }\n  }, [voiceAssistant, speak, vibrate, stopListening, speechSynthesis]);\n\n  // Inicializar Web Speech API\n  useEffect(() => {\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      const recognition = new SpeechRecognition();\n      \n      recognition.continuous = true;\n      recognition.interimResults = false;\n      recognition.lang = 'es-ES';\n      \n      recognition.onstart = () => {\n        setIsListening(true);\n        speak('Te escucho. Di un comando.', true);\n        vibrate();\n      };\n      \n      recognition.onresult = (event) => {\n        const transcript = event.results[event.results.length - 1][0].transcript.toLowerCase();\n        handleVoiceCommand(transcript, null);\n      };\n      \n      recognition.onerror = (event) => {\n        console.error('Error en reconocimiento de voz:', event.error);\n        setIsListening(false);\n        speak('Hubo un error con el asistente de voz. Intenta de nuevo.');\n        vibrate([200, 100, 200]);\n      };\n      \n      recognition.onend = () => {\n        setIsListening(false);\n      };\n      \n      setSpeechRecognition(recognition);\n    }\n\n    if ('speechSynthesis' in window) {\n      setSpeechSynthesis(window.speechSynthesis);\n    }\n  }, []);\n\n  // Aplicar cambios de accesibilidad al DOM\n  useEffect(() => {\n    const root = document.documentElement;\n    \n    // Remover clases anteriores\n    root.classList.remove('deuteranopia', 'protanopia', 'tritanopia', 'high-contrast');\n    \n    // Aplicar nueva clase\n    if (colorMode !== 'normal') {\n      root.classList.add(colorMode);\n    }\n    \n    // Aplicar tamaño de fuente\n    const fontSizeClasses = {\n      xs: 'text-xs',\n      sm: 'text-sm',\n      base: 'text-base',\n      lg: 'text-lg',\n      xl: 'text-xl',\n      '2xl': 'text-2xl',\n      '3xl': 'text-3xl',\n    };\n    \n    // Remover clases de tamaño anteriores\n    Object.values(fontSizeClasses).forEach(className => {\n      root.classList.remove(className);\n    });\n    \n    // Aplicar nuevo tamaño\n    if (fontSizeClasses[fontSize]) {\n      root.classList.add(fontSizeClasses[fontSize]);\n    }\n  }, [colorMode, fontSize]);\n\n  const value = {\n    colorMode,\n    setColorMode,\n    fontSize,\n    setFontSize,\n    voiceAssistant,\n    toggleVoiceAssistant,\n    isListening,\n    startListening,\n    stopListening,\n    speak,\n    handleVoiceCommand,\n    vibrate,\n    showColorPanel,\n    setShowColorPanel,\n  };\n\n  return (\n    <AccessibilityContext.Provider value={value}>\n      {children}\n    </AccessibilityContext.Provider>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}